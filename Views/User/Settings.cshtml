@using CSharpClicker.Web.UseCases.GetUserSettings

@model UserSettingsDto;

@{
    Layout = "~/Views/Shared/_HatLayout.cshtml";
}

@section styles {
    <link href="@Url.Content("~/css/settings.css")" rel="stylesheet">
}

<div class="text-center">
    <div class="avatar-container">
        <div class="avatar-background"></div>
        @if (Model.Avatar.Length == 0)

        {
            <img src="~/anonymous.png" class="avatar-image" />
        }

        else

        {
            <img src="data:image/png;base64,@Convert.ToBase64String(Model.Avatar)" class="avatar-image" />
        }
    </div>
    <form asp-action="avatar" asp-controller="user" method="post" enctype="multipart/form-data" class="mt-3">
        <label for="avatar-form-control">Изменить аватар</label>
        <input id="avatar-form-control" type="file" class="form-control mt-3 mb-3" name="avatar" accept="image/*" />
        <input id="update-avatar-submit" type="submit" class="btn btn-primary" value="Обновить аватар" hidden />
    </form>
</div>

<div class="mt-4 text-center">
    <h4>Выберите фон</h4>
    <div class="background-selection d-flex justify-content-center flex-wrap">
        <button class="btn btn-outline-primary change-background m-2" data-bg="/images/Backgrounds/default-background.png">
            Дефолтный фон
        </button>
        <button class="btn btn-outline-primary change-background m-2" data-bg="/images/Backgrounds/background1.png">
            Фон 1
        </button>
        <button class="btn btn-outline-primary change-background m-2" data-bg="/images/Backgrounds/background2.png">
            Фон 2
        </button>
        <button class="btn btn-outline-primary change-background m-2" data-bg="/images/Backgrounds/background3.png">
            Фон 3
        </button>
    </div>
</div>


@section scripts {
    <script src="/js/settings.js"></script>
}